<!doctype html>
<html>
  <head>
    <title>Microservices on Cloud Foundry: Going Cloud Native</title>
    <link href="bower_components/bootstrap-css-only/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      [ng\:cloak], [ng-cloak], .ng-cloak {
        display: none !important;
      }
    </style>
  </head>

  <body ng-app="feedback">
    <div class="jumbotron">
      <div class="container">
        <h2>Microservices on Cloud Foundry: Going Cloud Native</h2>
        <p>Application version 1: The Monolith</p>
      </div>
    </div>

    <div class="container">
      <div ng-cloak class="ng-cloak">
        <div id="feedback-submission-form" class="container" ng-controller="FeedbackFormController" ng-hide="feedbackSubmission.submitted">
          <div class="row">
            <p>Thanks for attending our training session! We hope you're having fun.</p>
            <p>We're really keen to get your feedback so please go ahead and rate your experience.</p>
          </div>

          <form name="feedbackForm">
            <div class="row">
              <div class="col-xs-6">
                <h3>Your happiness with the training so far:</h3>
                <div class="radio" ng-repeat="level in feedbackLevels.happinessLevels">
                  <label>
                    <input type="radio" ng-model="feedback.happinessLevel" ng-value="level.index">
                    {{level.description}}
                  </label><br>
                </div>
              </div>

              <div class="col-xs-6">
                <h3>How much do you feel you've learnt so far?</h3>
                <div class="radio" ng-repeat="level in feedbackLevels.learningLevels">
                  <label>
                    <input type="radio" ng-model="feedback.learningLevel" ng-value="level.index">
                    {{level.description}}
                  </label><br>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12">
                <p>
                  <button class="btn btn-primary" ng-click="submitFeedback()">Submit</button>
                </p>
              </div>
            </div>
          </form>
        </div>

        <div id="aggregated-feedback" class="container" ng-controller="AggregatedFeedbackController" ng-show="feedbackSubmission.submitted">
          <div class="row">
            <p>Thanks for voting!</p>
            <p>Here are the results so far:</p>
          </div>

          <div class="row">
            <h3>Overall happiness</h3>
            <div class="col-xs-2" ng-repeat="level in aggregatedFeedback.happinessLevels">
              <justgage title="{{level.description}}"
                        value="{{level.votePercentage}}"
                        symbol="%"></justgage>
            </div>
          </div>
          <div class="row">
            <h3>Overall learning</h3>
            <div class="col-xs-2" ng-repeat="level in aggregatedFeedback.learningLevels">
              <justgage title="{{level.description}}"
                        value="{{level.votePercentage}}"
                        symbol="%"></justgage>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-gage/dist/angular-gage.js"></script>
    <script src="bower_components/justgage-bower/justgage.js"></script>
    <script src="bower_components/raphael/raphael.js"></script>
    <script src="js/feedback-levels.js"></script>
    <script src="js/aggregated-feedback.js"></script>
    <script src="js/feedback-form.js"></script>
    <script src="js/feedback-service.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>